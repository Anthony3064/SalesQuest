<?xml version="1.0" encoding="UTF-8"?>
<!--
To change this license header, choose License Headers in Project Properties.
To change this template file, choose Tools | Templates
and open the template in the editor.
-->
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:p="http://primefaces.org/ui"
      xmlns:f="http://xmlns.jcp.org/jsf/core">
    
    <h:head>
        <title>Perfil</title>
    </h:head>
    <h:body>
        
        <p:panel id="basic" header="Ver perfíl"  style="margin-bottom:20px;text-align: center;">
        
        <p:panel style="font-size: 20px;text-align: center;width: 640px;margin: 0 auto;">
            
            <p:messages id="messages" showDetail="true" closable="true">
                <p:autoUpdate />
            </p:messages>
            
            <p:messages showDetail="true"/>
            
            <h:form id="for" style="display: flex;">
                
                <p:panelGrid columns="2" 
                             style="width: 600px;">
            
                <p:outputLabel value="Nombre:" />
                <p:inputText id="nombre" value="#{perfilController.perfil.usuario.nombre}" style="width: 400px;" disabled="#{perfilController.editar}"/>
            
                <p:outputLabel value="Apellidos:" />
                <p:inputText id="apellidos" value="#{perfilController.perfil.usuario.apellidos}" style="width: 400px;" disabled="#{perfilController.editar}"/>
                
                <p:outputLabel value="Correo:" />
                <p:inputText id="correo" value="#{perfilController.perfil.usuario.correo}" style="width: 400px;" disabled="#{perfilController.editar}"/>
                
                <p:outputLabel value="Nombre de usuario:" />
                <p:inputText id="nombreUsuario" value="#{perfilController.perfil.usuario.nombreUsuario}" style="width: 400px;" disabled="#{perfilController.editar}"/>
                
                <p:outputLabel value="Dirección:" />
                <p:inputText id="dirección" value="#{perfilController.perfil.usuario.direccion}" disabled="#{perfilController.editar2}" style="width: 400px;"/>
                
                <p:outputLabel value="Fecha de nacimiento:"/>
                <p:calendar value="#{perfilController.perfil.usuario.fechaNacimiento}" locale="es" pattern="dd/MM/yyyy" disabled="#{perfilController.editar2}" style="width: 400px;"/>
            
                <p:outputLabel value="Teléfono:"/>
                <p:inputText id="telefono" value="#{perfilController.perfil.usuario.telefono}" disabled="#{perfilController.editar2}" style="width: 400px;"/>
            
                <p:outputLabel value="Estado civíl:"/>
                <p:selectOneMenu label="Estado Civil" id="tipo" disabled="#{perfilController.editar2}" value="#{perfilController.perfil.usuario.estadoCivil}" 
                                style="min-width:150px; width:250px;" converter="registroConverter">                         
                    <f:selectItems value="#{perfilController.listaEstadoCivil}" var="estadoCivil" 
                                   itemLabel="#{estadoCivil.nombreEstadoCivil}" itemValue="#{estadoCivil}" />
                     
                </p:selectOneMenu>
                
                <p:outputLabel value="Tipo Usuario"/>
                <p:inputText value="#{perfilController.perfil.usuario.tipoUsuario.nombreTipoUsuario}" disabled="true" style="width: 400px;" />
        
                <p:outputLabel value="Categoría favorita"/>
                <p:selectOneMenu disabled="#{perfilController.editar2}" label="Categoria Favorita" id="categoria" value="#{perfilController.perfil.usuario.categoriaFavorita}" 
                                style="min-width:150px; width:250px;" converter="categoriaConverter">                                    
                    <f:selectItems value="#{perfilController.listaCategorias}" var="categoria" 
                                   itemLabel="#{categoria.nombreCategoria}" itemValue="#{categoria}" />
                </p:selectOneMenu>
                
                <p:outputLabel/>
                
                <p:outputLabel/>
                
                <p:commandButton  value="Guardar" actionListener="#{perfilController.completarPerfil()}" update="@form"/>
                <p:commandButton value="Editar" actionListener="#{perfilController.paraEditar()}" update="@form"/>
                
            </p:panelGrid>
              
            </h:form>
                                          
        </p:panel>
        </p:panel> 
        
    </h:body>
</html>
